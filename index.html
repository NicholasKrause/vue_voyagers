<!DOCTYPE html>
<html lang="en">
<head>
<title>A long time ago ðŸ‘½ in a galaxy far, far away...</title>
<!--
  _________             __    __     ____  __.                                  
 /   _____/ ____  _____/  |__/  |_  |    |/ _|___________   __ __  ______ ____  
 \_____  \_/ ___\/  _ \   __\   __\ |      < \_  __ \__  \ |  |  \/  ___// __ \ 
 /        \  \__(  <_> )  |  |  |   |    |  \ |  | \// __ \|  |  /\___ \\  ___/ 
/_______  /\___  >____/|__|  |__|   |____|__ \|__|  (____  /____//____  >\___  >
        \/     \/                           \/           \/           \/     \/ 
-->
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=2, minimum-scale=1, width=device-width, height=device-height"/>
<meta name="description" content="This is a coding exercise designed to demonstrate and prove proficiency in the Vue.js reactive framework. The technologies include advanced CSS, semantic markup, browser native APIs, accessible content and an overall mastery of browser capabilities.">
<link rel="stylesheet" type="text/css" href="./content/css/vue_voyagers.css"/>
<meta property="og:title" content="Scott C. Krause Front-end Engineer | Node.js TypeScript WASM React Vue.js">
<meta property="og:site_name" content="Scott C. Krause JavaScript Developer">
<meta property="og:url" content="http://thescottkrause.com/">
<meta property="og:description" content="I craft high-fidelity prototypes and then build responsive, accessible, and aesthetically delightful interfaces. I produce and advocate for optimized, asynchronous, reactive, functional, testable, and future-proof TypeScript and JavaScript.">
<meta property="og:type" content="website">
<meta property="og:image" content="http://thescottkrause.com/ux/typescript/engineer/wasm/javascript_typescript_developer.jpg">
<style type="text/css">
    .l-snackbar .snackbar__cont{border-radius:4px;background:linear-gradient(45deg,#763f44 0%,#733d41 100%);box-shadow:inset #665f50 0 0 6px 2px;border:solid 1px #d3cdb4;left:38%;min-width:188px;padding:0;position:fixed;transition:bottom .6s ease-in-out;user-select:none;z-index:6408}.l-snackbar .snackbar__cont--hide{bottom:-112px;transition:bottom .6s ease-in-out}.l-snackbar .snackbar__cont--show{bottom:4px;transition:bottom .6s ease-in-out}.l-snackbar .snackbar__progbar{background-color:#edba08;height:2px;padding:0;margin:0;position:relative;top:2px}.l-snackbar .snackbar__cont--hide .snackbar__progbar{width:0%;transition:all .1s ease-in-out}.l-snackbar .snackbar__cont--show .snackbar__progbar{width:101%;transition:all 6s ease-in-out}.l-snackbar .snackbar__msg{color:#fff;font-family:sans-serif;font-size:16px;margin:20px;text-align:center;white-space:nowrap}
    .l-reveal .reveal__box
    {position: absolute;z-index: 1005;top: 0;right: 0;left: 0;
    display: block!important;width: 100%;margin: 0 auto;padding: 8px;border: solid 1px #666;border-radius: 6px;background-color: #fff;box-shadow: 0 0 10px rgba(0,0,0,.4);
    }.l-reveal .reveal__scrim
    {position: fixed;z-index: 8;top: 0;right: 0;bottom: 0;left: 0;display: block!important;min-height: 100%;cursor: pointer;
    background: linear-gradient(rgba(228,198,126,.32),rgba(188,130,19,.68));background-position: 50% 0;background-size: cover;
    }.l-reveal .reveal-modal{display: none;}
    .l-reveal .small{width: 40%;}.l-reveal .medium{width: 60%;}.l-reveal .large{width: 76%;}
    .l-reveal .resp_x, .resp_x:hover
    {font-family: monospace;font-size: 28px;font-weight: 800;
    position: absolute;top: 2px;right: 10px;cursor: pointer;color: #444!important;}
    .l-reveal .resp_x:hover{color: #444!important;}
    .l-reveal .eml-msg__x{position: absolute;top: -42px;right: -18px;}
    @media only screen and (max-width:48em){
    .l-reveal .small{width: 85%;}.l-reveal .medium{width: 85%;}.l-reveal .large{width: 85%;}
    }
</style>
</head>
<body>
    <main id="js-main" role="main">
        <section>
            <article>
                <header><h2>Voyagers</h2>
                    <div></div><div></div>
                    <div>
                        <select class="select-css" v-on:change="VoySelect()" v-model="VoySelectValue">
                            <option value="Add">Add Voyager</option>
                            <option v-for="(oPerson, index) in aPeople" :value="index"> {{ oPerson.name }} </option>

                        </select>                        
                    </div>
                </header>
                <form></form>
                <aside class="h-tx__ctr"><div>Name</div><div>Planet</div><div>Species</div><div>Gender</div><div>Rank</div><div>Actions</div></aside>
                <div class="voy--cont">
                    <section class="voy--grd" role="row"
                      v-for="(oPerson, index) in aPeopleSel">
                      <div> {{ oPerson.name }} </div>
                      <div> {{ oPerson.homeworld }} </div>
                      <div> {{ oPerson.species }} </div>
                      <div> {{ oPerson.gender }} </div>
                      <div> {{ oPerson.rank }} </div>
                      <div class="voy--actions">
                          <a v-on:click.prevent="VoyInfo( oPerson )">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"/></svg>
                          </a>
                          <a v-on:click.prevent="VoyRemove( oPerson )">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>
                          </a>
                      </div>
                    </section>
                </div>
            </article>
        </section>
        <section>
            <article>
                <header><h2>Crew Ships</h2>
                    <div></div><div></div>
                    <div><svg xmlns="http://www.w3.org/2000/svg" fill="#89595b" width="24" height="24"><path d="M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"/></svg></div>
                </header>
                <form></form>
                <aside class="h-tx__ctr"><div>x</div><div>x</div><div>x</div><div>x</div><div>x</div><div>x</div></aside>
                <div></div>
            </article>
            <article>
                <header><h2>Created Voyages</h2>
                    <div></div><div></div>
                    <div><svg xmlns="http://www.w3.org/2000/svg" fill="#89595b" width="24" height="24"><path d="M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"/></svg></div>
                </header>
                <form></form>
                <aside class="h-tx__ctr"><div>x</div><div>x</div><div>x</div><div>x</div><div>x</div><div>x</div></aside>
                <div></div>
            </article>
        </section>
    </main>
    <a55-rv class="l-reveal"><!-- Component Begin --> 
        <aside id="id-reveal__scrim" class="close-reveal-modal"></aside> 
    </a55-rv><!-- Component End --> 
    
    <ltdc-snackbar class="l-snackbar" role="alert"><!--  Component Begin  -->
        <section id="js-snackbar__id" class="snackbar__cont snackbar__cont--hide" aria-live="polite" aria-atomic="true">
            <div class="snackbar__progbar"></div>
            <p class="snackbar__msg"></p>
        </section>
    </ltdc-snackbar><!--  Component End  -->
<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400|Roboto+Slab:300,400" rel="stylesheet" type="text/css">
<script src="js/vue.min.js"></script>
<script defer src="js/snackbar/snackbar.js"></script>
<script defer src="js/reveal/reveal.js"></script>
<script>
'use strict';

var vVoyage = new Vue( {
  el: "#js-main",
  data: {
  aStarships: [],
  aPeople: [],
  aPeopleSel: [],
  aPlanets: [],
  aSpecies: [],
  RESTCount: 0,
  VoySelectValue: "Add",
  },
  computed: {
    cTotal: function () {  //  On Button
      var nT = 0;
      this.aSKU.filter(function( _oSKU ){
        nT = nT + ( _oSKU.qty * _oSKU.srp )
      });
      return ( nT ).toFixed(2);
    }
  },
  watch: {
      RESTCount : function(){  //  All JSON has been received
          const NUM_COMPLETE_REQ = 4;
          if( this.RESTCount === NUM_COMPLETE_REQ ) this.RESTPost();  //  Init Sort and Gen Rank
      }
  },
  methods: {
    VoySelect : function(){  //  Drop-down Selected
        if( this.VoySelectValue !== "Add" ){
            if( this.nameExists( this.aPeople[ this.VoySelectValue ].name, this.aPeopleSel ) ){
                playAudioFile( 3 );
                snck.q("That Voyager already exists.");
            }else{
                this.aPeopleSel.push( this.aPeople[ this.VoySelectValue ] );
                this.VoySelectValue = "Add";
                playAudioFile( 4 );                
            }
        }
    },
    VoyInfo : function( oPers ){
        playAudioFile( 2 );
        snck.q( "Name: " + oPers.name + " Height: " + oPers.height + "|Hair: " + oPers.hair_color + " Eyes: " + oPers.eye_color );
    },
    VoyRemove : function( oPers ){
        playAudioFile( 1 );
        snck.q( oPers.name + " has been removed|from the voyage" );

    },
    nameExists: function( name, arr ){
        let bExists = false
        arr.forEach( function( item ){
            if( item.name === name ) bExists = true;
        } );
        return bExists;
    },
    getSpeciesName : function( SpeciesURL = "https://swapi.co/api/species/4/" ){
        let SpeciesName = this.aSpecies.filter( function( e ){
            return ( SpeciesURL === e.url ); 
        } )[0].name;
        return SpeciesName;
    },
    getPlanetName : function( PlanetURL ){
        let PlanetName = this.aPlanets.filter( function( e ){
            return ( PlanetURL === e.url ); 
        } )[0].name;
        return PlanetName;
    },
    RESTPost : function(){  //  Init Sort by Name
        this.aStarships = this.aStarships.sort( ( a, b ) => {
            return ( a.name > b.name ) - ( a.name < b.name );
        });
        this.aPeople = this.aPeople.sort( ( a, b ) => {
            return ( a.name > b.name ) - ( a.name < b.name );
        });
        this.aPeople.map(function( p ){  //  Gen Rank | Denormalize
            const aRanks = ["Captain", "Crew","XO", "Space Cadet"];
            p.rank = aRanks[ (Math.floor(Math.random() * (4) )) ];
            p.homeworld = vVoyage.getPlanetName( p.homeworld );
            p.species = vVoyage.getSpeciesName( p.species[0] );
        });
    },
    fRESTstarships : function( url = "https://swapi.co/api/starships/" ){
        let jResults=[];
        fetch( url )
            .then(( resp ) => resp.json())
            .then(function( rest ) {  //  API Recursive Pagination
                jResults = jResults.concat( Array.from( rest.results ) );
                vVoyage.aStarships = vVoyage.aStarships.concat( jResults );
                if( rest.next ){
                    vVoyage.fRESTstarships( rest.next, vVoyage.aStarships );
                }else{ vVoyage.RESTCount++; }
            });
    },
    fRESTpeople : function( url = "https://swapi.co/api/people/" ){
        let jResults=[];
        fetch( url )
            .then(( resp ) => resp.json())
            .then(function( rest ) {  //  API Recursive Pagination
                jResults = jResults.concat( Array.from( rest.results ) );
                vVoyage.aPeople = vVoyage.aPeople.concat( jResults );
                if( rest.next ){
                    vVoyage.fRESTpeople( rest.next, vVoyage.aPeople );
                }else{ vVoyage.RESTCount++; }
            });
    },
    fRESTplanets : function( url = "https://swapi.co/api/planets/" ){
        let jResults=[];
        fetch( url )
            .then(( resp ) => resp.json())
            .then(function( rest ) {  //  API Recursive Pagination
                jResults = jResults.concat( Array.from( rest.results ) );
                vVoyage.aPlanets = vVoyage.aPlanets.concat( jResults );
                if( rest.next ){
                    vVoyage.fRESTplanets( rest.next, vVoyage.aPlanets );
                }else{ vVoyage.RESTCount++; }
            });
    },
    fRESTSpecies : function( url = "https://swapi.co/api/species/" ){
        let jResults=[];
        fetch( url )
            .then(( resp ) => resp.json())
            .then(function( rest ) {  //  API Recursive Pagination
                jResults = jResults.concat( Array.from( rest.results ) );
                vVoyage.aSpecies = vVoyage.aSpecies.concat( jResults );
                if( rest.next ){
                    vVoyage.fRESTSpecies( rest.next, vVoyage.aSpecies );
                }else{ vVoyage.RESTCount++; }
            });
    },
    one2ten : function(){ return (Math.floor(Math.random() * (10) + 1)); }
  },
  mounted: function( e ){
    this.fRESTstarships();  //  Fetch JSON
    this.fRESTpeople();
    this.fRESTplanets();
    this.fRESTSpecies();
  }
});

var CnfState = {"audio": false};
var AudioContext = window.AudioContext || false;
if (AudioContext) {
  CnfState.audio = true;    //    Icanuse
  var oAudContx = new AudioContext();    //    HTML5 Audio
  var oAJAXReq = new XMLHttpRequest();   //    Get Sounds
  var aAudioBuffer = new Array(7);       //    Store Sound files
  var fetchSoundConfig = {sound_max: 7, sound_current: 1};    //    Sound limits
  setTimeout( function(){ fetchSound(); }, 5600);
}
function fetchSound() {
    //    AJAX a single sound binary
    oAJAXReq.open("GET", "au/a" + fetchSoundConfig.sound_current + ".mp3", true);
    oAJAXReq.responseType = "arraybuffer";
    oAJAXReq.send();
    oAJAXReq.onload = fetchSoundonload;
}
function fetchSoundonload() {
    //    The audio file has loaded via XHR
    oAudContx.decodeAudioData(oAJAXReq.response, function (decAudBuf) {
        aAudioBuffer[ fetchSoundConfig.sound_current ] = decAudBuf;
        fetchSoundConfig.sound_current = fetchSoundConfig.sound_current + 1;
        if(fetchSoundConfig.sound_current <= fetchSoundConfig.sound_max){
            oAJAXReq = new XMLHttpRequest();
            oAJAXReq.responseType = "arraybuffer";
            fetchSound( fetchSoundConfig.sound_current );
        }
    });
};
function playAudioFile( nSound ) {
  if( CnfState.audio === true ){  //  Play MP3 if sound toggle is true
    try{
      var oSrc = oAudContx.createBufferSource();
      var volume = oAudContx.createGain();
      oSrc.buffer = aAudioBuffer[nSound];
      oSrc.connect(volume);
      volume.connect(oAudContx.destination);
      oSrc.connect(oAudContx.destination);
      oSrc.start(oAudContx.currentTime);
    } catch( e ){}
  }
};
function playAudioRand( aSound ){  //  Either Or | array | max 2
  playAudioFile( aSound[Math.random()+.5|0]);
}

console.log("%c Scott C. Krause | Problem Solver and Visual Storyteller", "background: #000; color: #f4dc5e; font-size: 28px");
</script>
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Person",
    "address": {
    "@type": "PostalAddress",
    "addressLocality": "Lake County",
    "addressRegion": "IL",
    "postalCode": "60031"
    },
    "email": "neo5ive@gmail.com",
    "image": "http://www.thescottkrause.com/ux/typescript/engineer/wasm/self.png",
    "jobTitle": "Sr. UX Front-end Engineer",
    "name": "Scott Krause",
    "url": "https://www.theScottKrause.com",
    "sameAs" : [ "https://github.com/neodigm",
    "https://repl.it/@neodigm",
    "https://twitter.com/neodigm24"]
}
</script>

</body>
</html>